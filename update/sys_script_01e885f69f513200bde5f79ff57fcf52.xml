<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_script">
    <sys_script action="INSERT_OR_UPDATE">
        <abort_action>false</abort_action>
        <access>package_private</access>
        <action_delete>false</action_delete>
        <action_insert>true</action_insert>
        <action_query>false</action_query>
        <action_update>true</action_update>
        <active>true</active>
        <add_message>false</add_message>
        <advanced>true</advanced>
        <change_fields>false</change_fields>
        <client_callable>false</client_callable>
        <collection>x_58872_needit_needit</collection>
        <condition/>
        <description/>
        <execute_function>false</execute_function>
        <filter_condition/>
        <is_rest>false</is_rest>
        <message/>
        <name/>
        <order>100</order>
        <priority>100</priority>
        <rest_method/>
        <rest_method_text/>
        <rest_service/>
        <rest_service_text/>
        <rest_variables/>
        <role_conditions/>
        <script><![CDATA[(function executeRule(current, previous /*null when async*/) {
	/** --model_documentation_start--
		"OAuthTokenRequest":{
			"properties": {
				"grant_type": {
					"type": "string"
				},
				"client_id": {
					"type": "string"
				},
				"client_secret": {
					"type": "string"
				},
				"username": {
					"type": "string"
				},
				"password": {
					"type": "string"
				}
			}
		}
	--model_documentation_end--  */

	/** --model_documentation_start--
		"OAuthToken401":{
			"properties": {
				"error_description": {
					"type": "string"
				},
				"error": {
					"type": "string"
				}
			}
		}
	--model_documentation_end--  */

	/** --model_documentation_start--
		"OAuthTokenResponse":{
			"properties": {
				"access_token": {
					"type": "string"
				},
				"refresh_token": {
					"type": "string"
				},
				"scope": {
					"type": "string"
				},
				"token_type": {
					"type": "string"
				},
				"expires_in": {
					"type": "integer",
					"format": "int32"
				}
			}
		}
	--model_documentation_end--  */

	/** --model_documentation_start--
		"WrapperFile":{
			"properties": {
				"result" { 
					"count": {
						"type": "integer",
						"format": "int32"
					},
					"attachments": [
						{
							"fileTitle": {
								"type": "string"
							},
							"fileTitle": {
								"type": "string"
							},
							"fileType": {
								"type": "string"
							},
							"fileAttachmentURL": {
								"type": "string"
							},
							"fileContentStream": {
								"type": "string"
							},
							"fileContentBase64": {
								"type": "string"
							}
						}
					]
				}
			}
		}
	--model_documentation_end--  */

	/** --endpoint_documentation_start--
		path="/oauth_token.do";
		method="post";
		group="Auth";
		summary="Authentication endpoint";
		consumes=["application/x-www-form-urlencoded"];
		produces=["application/json"];
		parameters=[
			{
				"in":"body",
				"name":"AuthRequest",
				"type":"integer",
				"description":"Object to send credentials",
				"required": true,
				"schema": "$OAuthTokenRequest$"
			}
		];
		responses= {
		   "200": {
				"description":"Successful authentication",
				"schema": "$OAuthTokenResponse$"
			},
			"401": {
				"description":"Access denied",
				"schema": "$OAuthToken401$"
			}
		};
	--endpoint_documentation_end--  */

	/** --endpoint_documentation_start--
		path="/api/x_913932_serenitym/serenitymobile/record/get-attachments/x_sehs_insp_task/5e7c3b8c970406503f6abd3ef053af4c";
		method="get";
		group="Serenity mobile";
		summary="Getting a image element";
		consumes=["application/x-www-form-urlencoded", "application/json"];
		produces=["application/json"];
		parameters=[
			{
				"in":"header",
				"name":"Authorization",
				"type":"string",
				"description":"Access token",
				"required": true
			}
		];
		responses= {
		   "200": {
				"description":"Successful authentication",
				"schema": "$WrapperFiles$"
			},
			"400": {
				"description":"Access denied"
			}
		};
	--endpoint_documentation_end--  */
	
	
	/** --model_documentation_start_no--
		"PostWithId":{
			"properties": {
				"id": {
					"type": "integer",
					"format": "int32"
				},
				"title": {
					"type": "string"
				},
				"body": {
					"type": "string"
				},
				"userId": {
					"type": "integer",
					"format": "int32"
				}
			}
		}
	--model_documentation_end_no--  */

	/** --model_documentation_start_no--
		"PostWithoutId":{
			"properties": {
				"title": {
					"type": "string"
				},
				"body": {
					"type": "string"
				},
				"userId": {
					"type": "integer",
					"format": "int32"
				}
			}
		}
	--model_documentation_end_no--  */
	
	/** --endpoint_documentation_start_no--
		path="/posts/{postId}";
		method="delete";
		group="Post";
		summary="Deleting a resource";
		consumes=["application/json", "application/xml"];
		produces=["application/json"];
		parameters=[
			{
				"in":"path",
				"name":"postId",
				"type":"integer",
				"format": "int64",
				"description":"ID of post to delete",
				"required": true
			}
		];
		responses= {
		   "200": {
				"description":"Deleting a resource"
			}
		};
	--endpoint_documentation_end_no--  */

	/** --endpoint_documentation_start_no--
		path="/posts/{postId}";
		method="get";
		group="Post";
		summary="Getting a resource";
		consumes=["application/json", "application/xml"];
		produces=["application/json"];
		parameters=[
			{
				"in":"path",
				"name":"postId",
				"type":"integer",
				"format": "int64",
				"description":"ID of post to find",
				"required": true
			}
		];
		responses= {
		   "200": {
				"description":"Deleting a resource",
				"schema": "$PostWithId$"
			}
		};
	--endpoint_documentation_end_no--  */

	/** --endpoint_documentation_start_no--
		path="/posts/{postId}";
		method="put";
		group="Post";
		summary="Updatting a resource";
		consumes=["application/json", "application/xml"];
		produces=["application/json"];
		parameters=[
			{
				"in":"path",
				"name":"postId",
				"type":"integer",
				"format": "int64",
				"description":"ID of post to update",
				"required": true
			},
			{
				"in":"body",
				"name":"existingPost",
				"description":"ID of post to update",
				"required": true,
				"schema": "$PostWithId$"
			}
		];
		responses= {
		   "200": {
				"description":"Deleting a resource",
				"schema": "$PostWithId$"
			}
		};
	--endpoint_documentation_end_no--  */

	/** --endpoint_documentation_start_no--
		path="/posts";
		method="get";
		group="Post";
		summary="Listing all posts";
		consumes=["application/json"];
		produces=["application/json"];
		parameters=[
			
		];
		responses= {
		   "200": {
				"description":"Successful operation",
				"schema": {
					"type": "array",
					"items": "$PostWithId$"
				}
			}
		};
	--endpoint_documentation_end_no--  */

	// Pass the Requested for email to the Script Include.  Store the return
    // value from the Script Include in the isEmail variable
    var isEmail = validateEmailAddress(current.u_requested_for_email);
    // If isEmail is false (email address syntax is not valid) do not save
    // the record.  Write an error message to the screen.
    if(isEmail == false){
        gs.addErrorMessage(current.u_requested_for_email + " is not a valid email address.  You must provide a valid email address.");
        current.setAbortAction(true);
    }

})(current, previous);]]></script>
        <sys_class_name>sys_script</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2017-03-08 03:44:46</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>01e885f69f513200bde5f79ff57fcf52</sys_id>
        <sys_mod_count>25</sys_mod_count>
        <sys_name/>
        <sys_overrides/>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_script_01e885f69f513200bde5f79ff57fcf52</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-02-16 22:53:15</sys_updated_on>
        <template/>
        <when>before</when>
    </sys_script>
    <sys_translated_text action="delete_multiple" query="documentkey=01e885f69f513200bde5f79ff57fcf52"/>
</record_update>
